<div>
  <div class="row" ng-model="bc.board" ng-repeat="row in bc.board track by $index">
    <div
      class="square"
      ng-click="bc.select($parent.$index, $index)"
      ng-repeat="square in row track by $index">
      <div
        class="piece {{square.color}}"
        ng-if="square.rank"
        ng-class="{selected: square.selected}">
        {{square.rank}} {{square.side}}
      </div>
    </div>
  </div>
</div>
